/* ============================================================================
   IONIC + TAILWIND + SHADCN/UI INTEGRATION
   Optimized architecture: Ionic CSS variables as single source of truth
   ============================================================================ */

/* Ionic Core CSS - Minimal setup for web component functionality */
@import "@ionic/react/css/core.css";

/* Tailwind CSS */
@import "tailwindcss";
@import "tw-animate-css";

@source "./src/**/*.{js,jsx,ts,tsx}";

/* ============================================================================
   LIGHT MODE THEME
   ============================================================================ */
:root {
  /* Core Ionic colors - Foundation for everything */
  --ion-background-color: hsl(0 0% 100%);
  --ion-text-color: hsl(0 0% 11%);
  --ion-border-color: hsl(0 0% 88%);

  /* Ionic semantic colors */
  --ion-color-primary: hsl(294 58% 26%);
  --ion-color-primary-contrast: hsl(0 0% 100%);

  --ion-color-secondary: hsl(274 30% 95%);
  --ion-color-secondary-contrast: hsl(299 57% 19%);

  --ion-color-tertiary: hsl(295 16% 85%);
  --ion-color-tertiary-contrast: hsl(299 57% 19%);

  --ion-color-success: hsl(142 76% 36%);
  --ion-color-success-contrast: hsl(0 0% 100%);

  --ion-color-warning: hsl(271 81% 56%);
  --ion-color-warning-contrast: hsl(0 0% 100%);

  --ion-color-danger: hsl(342 75% 50%);
  --ion-color-danger-contrast: hsl(0 0% 100%);

  /* Ionic component-specific */
  --ion-card-background: hsl(0 0% 97%);
  --ion-item-background: hsl(0 0% 97%);
  --ion-toolbar-background: hsl(0 0% 100%);
  --ion-tab-bar-background: hsl(0 0% 100%);
  --ion-tab-bar-border-color: hsl(0 0% 88%);

  /* Additional app colors */
  --ion-color-muted: hsl(0 0% 96%);
  --ion-color-muted-foreground: hsl(0 0% 38%);
  --ion-color-accent: hsl(295 16% 85%);
  --ion-color-accent-foreground: hsl(299 57% 19%);
  --ion-color-popover: hsl(0 0% 97%);
  --ion-color-popover-foreground: hsl(0 0% 11%);

  /* Domain-specific colors */
  --ion-color-expense: hsl(342 75% 50%);
  --ion-color-expense-foreground: hsl(342 90% 40%);
  --ion-color-expense-light: hsl(342 75% 96%);

  --ion-color-income: hsl(142 76% 36%);
  --ion-color-income-foreground: hsl(142 76% 36%);
  --ion-color-income-light: hsl(142 76% 96%);

  --ion-color-dashboard: hsl(217 91% 60%);
  --ion-color-dashboard-foreground: hsl(217 91% 60%);
  --ion-color-dashboard-light: hsl(217 91% 96%);

  --ion-color-savings: hsl(271 81% 56%);
  --ion-color-savings-foreground: hsl(271 81% 56%);

  /* Design tokens */
  --radius: 0.5rem;

  /* Shadows */
  --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 1px 2px -1px hsl(0 0% 0% / 0.1);
  --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
  --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 4px 6px -1px hsl(0 0% 0% / 0.1);
  --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.1), 0 8px 10px -1px hsl(0 0% 0% / 0.1);
}

/* ============================================================================
   DARK MODE THEME
   ============================================================================ */
[data-theme="dark"] {
  /* Core Ionic colors */
  --ion-background-color: hsl(218 13% 12%);
  --ion-text-color: hsl(0 0% 91%);
  --ion-border-color: hsl(223 7% 19%);

  /* Ionic semantic colors - adjusted for dark mode */
  --ion-color-primary: hsl(300 30% 50%);
  --ion-color-primary-contrast: hsl(0 0% 100%);

  --ion-color-secondary: hsl(218 13% 12%);
  --ion-color-secondary-contrast: hsl(0 0% 91%);

  --ion-color-tertiary: hsl(300 13% 22%);
  --ion-color-tertiary-contrast: hsl(0 0% 91%);

  --ion-color-success: hsl(142 76% 46%);
  --ion-color-success-contrast: hsl(0 0% 100%);

  --ion-color-warning: hsl(271 81% 66%);
  --ion-color-warning-contrast: hsl(0 0% 100%);

  --ion-color-danger: hsl(342 75% 60%);
  --ion-color-danger-contrast: hsl(0 0% 100%);

  /* Ionic component-specific */
  --ion-card-background: hsl(223 7% 15%);
  --ion-item-background: hsl(223 7% 15%);
  --ion-toolbar-background: hsl(218 13% 12%);
  --ion-tab-bar-background: hsl(218 13% 12%);
  --ion-tab-bar-border-color: hsl(223 7% 19%);

  /* Additional app colors */
  --ion-color-muted: hsl(223 7% 15%);
  --ion-color-muted-foreground: hsl(0 0% 60%);
  --ion-color-accent: hsl(300 13% 22%);
  --ion-color-accent-foreground: hsl(0 0% 91%);
  --ion-color-popover: hsl(223 7% 15%);
  --ion-color-popover-foreground: hsl(0 0% 91%);

  /* Domain-specific colors - brighter for dark mode */
  --ion-color-expense: hsl(342 75% 60%);
  --ion-color-expense-foreground: hsl(342 90% 70%);
  --ion-color-expense-light: hsl(342 75% 20%);

  --ion-color-income: hsl(142 76% 46%);
  --ion-color-income-foreground: hsl(142 76% 56%);
  --ion-color-income-light: hsl(142 76% 20%);

  --ion-color-dashboard: hsl(217 91% 70%);
  --ion-color-dashboard-foreground: hsl(217 91% 70%);
  --ion-color-dashboard-light: hsl(217 91% 20%);

  --ion-color-savings: hsl(271 81% 66%);
  --ion-color-savings-foreground: hsl(271 81% 66%);

  /* Shadows - more prominent in dark mode */
  --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.2), 0 1px 2px -1px hsl(0 0% 0% / 0.2);
  --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.3), 0 1px 2px -1px hsl(0 0% 0% / 0.3);
  --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.3), 0 2px 4px -1px hsl(0 0% 0% / 0.3);
  --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.4), 0 4px 6px -1px hsl(0 0% 0% / 0.4);
  --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.5), 0 8px 10px -1px hsl(0 0% 0% / 0.5);
}

/* ============================================================================
   TAILWIND THEME - Map to Ionic variables
   Single source of truth: Ionic CSS variables
   ============================================================================ */
@theme inline {
  /* Map shadcn/ui colors to Ionic variables */
  --color-background: var(--ion-background-color);
  --color-foreground: var(--ion-text-color);
  --color-border: var(--ion-border-color);
  --color-input: var(--ion-border-color);
  --color-ring: var(--ion-color-primary);

  --color-card: var(--ion-card-background);
  --color-card-foreground: var(--ion-text-color);

  --color-popover: var(--ion-color-popover);
  --color-popover-foreground: var(--ion-color-popover-foreground);

  --color-primary: var(--ion-color-primary);
  --color-primary-foreground: var(--ion-color-primary-contrast);

  --color-secondary: var(--ion-color-secondary);
  --color-secondary-foreground: var(--ion-color-secondary-contrast);

  --color-muted: var(--ion-color-muted);
  --color-muted-foreground: var(--ion-color-muted-foreground);

  --color-accent: var(--ion-color-accent);
  --color-accent-foreground: var(--ion-color-accent-foreground);

  --color-destructive: var(--ion-color-danger);
  --color-destructive-foreground: var(--ion-color-danger-contrast);

  /* Domain colors */
  --color-expense: var(--ion-color-expense);
  --color-expense-foreground: var(--ion-color-expense-foreground);
  --color-expense-light: var(--ion-color-expense-light);

  --color-income: var(--ion-color-income);
  --color-income-foreground: var(--ion-color-income-foreground);
  --color-income-light: var(--ion-color-income-light);

  --color-dashboard: var(--ion-color-dashboard);
  --color-dashboard-foreground: var(--ion-color-dashboard-foreground);
  --color-dashboard-light: var(--ion-color-dashboard-light);

  --color-savings: var(--ion-color-savings);
  --color-savings-foreground: var(--ion-color-savings-foreground);

  /* Chart colors - reuse semantic colors */
  --color-chart-1: var(--ion-color-primary);
  --color-chart-2: var(--ion-color-dashboard);
  --color-chart-3: var(--ion-color-success);
  --color-chart-4: var(--ion-color-danger);
  --color-chart-5: var(--ion-color-warning);

  /* Border radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Shadows */
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
}

/* ============================================================================
   BASE STYLES - Simplified (no normalize.css conflicts)
   ============================================================================ */
@layer base {
  body {
    background-color: var(--ion-background-color);
    color: var(--ion-text-color);
  }

  * {
    border-color: var(--ion-border-color);
  }

  /* General cursor styles */
  button {
    cursor: pointer;

    &:disabled {
      cursor: not-allowed;
    }
  }
}

/* ============================================================================
   IONIC COMPONENT CUSTOMIZATIONS
   ============================================================================ */
@layer base {
  /* Tab navigation - Custom colors per tab */
  ion-tab-button {
    --color: var(--ion-color-muted-foreground);
    --color-selected: var(--ion-color-primary);
    --ripple-color: var(--ion-color-primary);
  }

  ion-tab-button[tab="dashboard"] {
    --color-selected: var(--ion-color-dashboard);
    --ripple-color: var(--ion-color-dashboard);
  }

  ion-tab-button[tab="expenses"] {
    --color-selected: var(--ion-color-expense);
    --ripple-color: var(--ion-color-expense);
  }

  ion-tab-button[tab="income"] {
    --color-selected: var(--ion-color-income);
    --ripple-color: var(--ion-color-income);
  }

  /* Ensure Ionic components follow theme */
  ion-content {
    --background: var(--ion-background-color);
  }

  ion-card {
    --background: var(--ion-card-background);
    --color: var(--ion-text-color);
  }

  ion-item {
    --background: var(--ion-item-background);
    --color: var(--ion-text-color);
    --border-color: var(--ion-border-color);
  }

  ion-toolbar {
    --background: var(--ion-toolbar-background);
    --color: var(--ion-text-color);
    --border-color: var(--ion-border-color);
  }

  ion-tab-bar {
    --background: var(--ion-tab-bar-background);
    --border: 1px solid var(--ion-tab-bar-border-color);
  }
}
